{
  "name": "etch-fusion-suite",
  "version": "1.0.0",
  "private": true,
  "description": "Local development environment tooling for the Etch Fusion Suite plugin",
  "scripts": {
    "postinstall": "patch-package",
    "dev": "node scripts/dev.js",
    "setup": "npm run dev",
    "setup:commercial-plugins": "node scripts/setup-commercial-plugins.js",
    "wp-env": "wp-env",
    "wp": "wp-env run cli wp",
    "wp:tests": "wp-env run tests-cli wp",
    "wp:bricks": "npm run wp --",
    "wp:etch": "npm run wp:tests --",
    "stop": "wp-env stop",
    "destroy": "wp-env destroy",
    "logs": "wp-env logs",
    "logs:all": "wp-env logs --environment all",
    "logs:bricks": "wp-env logs --environment development",
    "logs:bricks:follow": "wp-env logs --environment development --watch",
    "logs:bricks:errors": "node scripts/filter-logs.js development error",
    "logs:etch": "wp-env logs --environment tests",
    "logs:etch:follow": "wp-env logs --environment tests --watch",
    "logs:etch:errors": "node scripts/filter-logs.js tests error",
    "logs:save": "node scripts/save-logs.js",
    "composer:install:cli": "wp-env run cli --env-cwd=wp-content/plugins/etch-fusion-suite composer install --no-dev --prefer-dist",
    "composer:install:tests-cli": "wp-env run tests-cli --env-cwd=wp-content/plugins/etch-fusion-suite composer install --no-dev --prefer-dist",
    "composer:install:both": "npm run composer:install:cli && npm run composer:install:tests-cli",
    "composer:install": "npm run composer:install:both",
    "composer:check": "node scripts/composer-check.js",
    "activate": "node scripts/activate-plugins.js",
    "test:connection": "node scripts/test-connection.js",
    "test:migration": "node scripts/test-migration.js",
    "test:unit": "wp-env run cli bash -c \"cd wp-content/plugins/etch-fusion-suite && WP_TESTS_DIR=/wordpress-phpunit WP_CORE_DIR=/tmp/wordpress php vendor/bin/phpunit -c phpunit.xml.dist --testsuite unit\"",
    "test:unit:all": "wp-env run cli bash -c \"cd wp-content/plugins/etch-fusion-suite && WP_TESTS_DIR=/wordpress-phpunit WP_CORE_DIR=/tmp/wordpress php vendor/bin/phpunit -c phpunit.xml.dist\"",
    "test:setup": "node scripts/dev.js --skip-activation --skip-composer",
    "analyze:elements": "node scripts/analyze-elements.js",
    "report:migration-quality": "node scripts/migration-quality-report.js",
    "test:playwright": "playwright test",
    "test:playwright:true-e2e": "playwright test tests/playwright/true-e2e.spec.ts --project=chromium --reporter=line",
    "test:playwright:admin-dashboard": "playwright test tests/playwright/admin-dashboard-wizard.spec.ts tests/playwright/admin-dashboard-receiving.spec.ts",
    "test:playwright:ci": "echo 'ğŸ¤– CI/CD environment detected - skipping Playwright tests' && echo 'ğŸ¯ CI/CD focuses on code quality (PHPCS + PHPUnit)' && echo 'ğŸ§ª Run WordPress integration tests locally with: npm run e2e:start && npm run test:migration' && exit 0",
    "playwright:install": "playwright install --with-deps chromium firefox webkit",
    "e2e:start": "npx wp-env start --update",
    "e2e:wait": "node scripts/e2e-wait.js",
    "e2e:stop": "npx wp-env stop",
    "test:playwright:local": "node scripts/e2e-wait.js && playwright test --reporter=line",
    "test:playwright:fast": "E2E_FAST_MODE=1 node scripts/e2e-wait.js && playwright test --reporter=line",
    "build": "esbuild assets/js/admin/main.js --bundle --format=iife --outfile=assets/js/dist/main.js --target=es2020",
    "watch": "npm run build -- --watch",
    "lint": "eslint assets/js",
    "typecheck": "tsc --noEmit",
    "create-test-content": "node scripts/create-test-content.js",
    "export:etch": "node scripts/export-etch-posts.js",
    "validate:etchdata": "node scripts/validate-etchdata.js",
    "reset:etch:migration": "node scripts/reset-etch-migration-state.js",
    "validate:full-workflow": "npm run create-test-content && npm run test:migration && npm run export:etch && npm run validate:etchdata -- validation-results",
    "reset": "wp-env clean all && npm run dev",
    "reset:soft": "wp-env clean all",
    "reset:hard": "wp-env destroy && npm run dev",
    "health": "node scripts/health-check.js",
    "verify": "node scripts/verify-wp-env.js",
    "health:bricks": "node scripts/health-check.js --environment development",
    "health:etch": "node scripts/health-check.js --environment tests",
    "db:backup": "node scripts/backup-db.js",
    "db:restore": "node scripts/restore-db.js",
    "ports:check": "node scripts/check-ports.js",
    "env:info": "node scripts/env-info.js",
    "shell:bricks": "wp-env run cli bash",
    "shell:etch": "wp-env run tests-cli bash",
    "db:export:bricks": "wp-env run cli wp db export",
    "db:export:etch": "wp-env run tests-cli wp db export",
    "plugin:list": "wp-env run cli wp plugin list && wp-env run tests-cli wp plugin list",
    "debug": "node scripts/debug-info.js",
    "debug:full": "node scripts/debug-info.js --verbose"
  },
  "engines": {
    "node": ">=20.19"
  },
  "devDependencies": {
    "@axe-core/playwright": "^4.11.1",
    "@eslint/compat": "^2.0.2",
    "@eslint/eslintrc": "^3.3.3",
    "@eslint/js": "^9.39.3",
    "@playwright/test": "^1.58.2",
    "@types/node": "^20.14.10",
    "@typescript-eslint/eslint-plugin": "^8.56.0",
    "@typescript-eslint/parser": "^8.0.0",
    "@wordpress/env": "^10.39.0",
    "concurrently": "^8.2.2",
    "esbuild": "^0.27.3",
    "eslint": "^9.0.0",
    "eslint-config-prettier": "^9.1.0",
    "eslint-plugin-import": "^2.29.1",
    "eslint-plugin-jsdoc": "^62.7.0",
    "eslint-plugin-prettier": "^5.5.5",
    "globals": "^17.4.0",
    "patch-package": "^8.0.1",
    "prettier": "^3.8.1",
    "typescript": "^5.5.4",
    "wait-on": "^7.0.1"
  }
}
